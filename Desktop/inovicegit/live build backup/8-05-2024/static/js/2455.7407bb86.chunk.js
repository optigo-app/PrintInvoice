"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[2455],{93228:(o,l,i)=>{i.r(l),i.d(l,{default:()=>t});var d=i(72791),n=i(80444),e=i(1683),v=i(80184);const t=o=>{let{urls:l,token:i,invoiceNo:t,printName:a,evn:u,ApiVer:r}=o;const[s,m]=(0,d.useState)(!0),[c,h]=(0,d.useState)(""),[p,C]=(0,d.useState)(!0),S=(o,l,i,d,n,e,v,t,a,u,r,s,m,c,h,p,C,S,N,y,g,f,R,D,E,A,M,T,x,P,I,W,G,_,k,O,B,w,b,F,J,Q,L,V,j,z,K,U,Y,Z,q)=>({"Stock Code/Prefix":o,Description:l,"Design No.":i,"Supplier Ref":d,Div:n,Qty:e,Type:v,Category:t,"Sub Category":a,Brand:u,Country:r,"Dia Div":s,Clarity:m,"Dia Color":c,"Dia Size":h,Sieve:p,Shape:C,"No. Of Dia":S,"Dia Carat":N,"Dia Amt per ct":y,"Dia value":g,"total dia amount":f,"Stone Shape":R,"No. Of St.":D,"Stone Ct":E,"St Amt per Ct":A,"Stone Value":M,"Metal Division":T,"GROSS WT":x,"NET WT/GOLD WT":P,"gold loss wt":I,Karat:W,"Gold Colour":G,"Rate Type":_,Rate:k,"Gold Value":O,"Gold Loss Value":B,"Total Gold Value":w,MAKING:b,Cost:F,"Tag Price 1":J,"Tag Price 2":Q,tagline1:L,tagline2:V,tagline3:j,tagline4:z,tagline5:K,"Cost Code":U,CERTIFICATION:Y,"CERTIFIED BY":Z,"CERTIFICATE NUMBER":q});return(0,d.useEffect)((()=>{(async()=>{try{const o=await(0,e.k_)(i,t,a,l,u,r);if("200"===(null===o||void 0===o?void 0:o.Status)){(0,e.nK)(null===o||void 0===o?void 0:o.Data)?(m(!1),h("Data Not Found")):((o=>{var l;let i=null===o||void 0===o?void 0:o.BillPrint_Json[0],d=null===o||void 0===o?void 0:o.BillPrint_Json1,n=null===o||void 0===o?void 0:o.BillPrint_Json2,v=[];d.forEach(((o,l)=>{let d=[];n.forEach(((l,i)=>{if((null===l||void 0===l?void 0:l.StockBarcode)===(null===o||void 0===o?void 0:o.SrJobno))if(1===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)){let o=d.findIndex(((o,i)=>(null===o||void 0===o?void 0:o.Rate)===(null===l||void 0===l?void 0:l.Rate)&&(null===o||void 0===o?void 0:o.GroupName)===(null===l||void 0===l?void 0:l.GroupName)&&1===(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid)));-1===o?d.push(l):(d[o].Wt+=null===l||void 0===l?void 0:l.Wt,d[o].Amount+=null===l||void 0===l?void 0:l.Amount,d[o].Pcs+=null===l||void 0===l?void 0:l.Pcs)}else{let o=d.findIndex(((o,i)=>(null===o||void 0===o?void 0:o.Rate)===(null===l||void 0===l?void 0:l.Rate)&&(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid)===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)));-1===o?d.push(l):(d[o].Wt+=null===l||void 0===l?void 0:l.Wt,d[o].Amount+=null===l||void 0===l?void 0:l.Amount,d[o].Pcs+=null===l||void 0===l?void 0:l.Pcs)}}));let t=d.filter((o=>1===(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid))),a=d.filter((o=>2===(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid))),u=d.filter((o=>4===(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid))),r=[],s=[];t.forEach(((o,l)=>{let i=r.findIndex(((l,i)=>(null===l||void 0===l?void 0:l.ShapeName)===(null===o||void 0===o?void 0:o.ShapeName)&&(null===l||void 0===l?void 0:l.Colorname)===(null===o||void 0===o?void 0:o.Colorname)&&(null===l||void 0===l?void 0:l.QualityName)===(null===o||void 0===o?void 0:o.QualityName)&&(null===l||void 0===l?void 0:l.Rate)===(null===o||void 0===o?void 0:o.Rate)));-1===i?r.push(o):(r[i].SizeName+=null===o||void 0===o?void 0:o.GroupName,r[i].Wt+=null===o||void 0===o?void 0:o.Wt,r[i].Pcs+=null===o||void 0===o?void 0:o.Pcs,r[i].Amount+=null===o||void 0===o?void 0:o.Amount)})),a.forEach(((o,l)=>{let i=s.findIndex(((l,i)=>(null===l||void 0===l?void 0:l.ShapeName)===(null===o||void 0===o?void 0:o.ShapeName)&&(null===l||void 0===l?void 0:l.QualityName)===(null===o||void 0===o?void 0:o.QualityName)&&(null===l||void 0===l?void 0:l.Colorname)===(null===o||void 0===o?void 0:o.Colorname)&&(null===l||void 0===l?void 0:l.Rate)===(null===o||void 0===o?void 0:o.Rate)));-1===i?s.push(o):(s[i].SizeName=null===o||void 0===o?void 0:o.GroupName,s[i].Wt+=null===o||void 0===o?void 0:o.Wt,s[i].Amount+=null===o||void 0===o?void 0:o.Amount,s[i].Pcs+=null===o||void 0===o?void 0:o.Pcs)}));let m=-1;[r,s,u].forEach(((o,l)=>{o.length>m&&(m=o.length)})),d.length>0&&Array.from({length:m}).forEach(((l,d)=>{let n="",t="",s="",m="",c="",h="",p="",C="";var N,y,g,f,R,D,E,A;r[d]&&(n=null===(N=r[d])||void 0===N?void 0:N.QualityName,t=null===(y=r[d])||void 0===y?void 0:y.Colorname,s=(0,e.dl)(null===(g=r[d])||void 0===g?void 0:g.Wt,3),m=(0,e.dl)(null===(f=r[d])||void 0===f?void 0:f.Rate,2),c=(0,e.dl)((null===(R=r[d])||void 0===R?void 0:R.Amount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2),h=null===(D=r[d])||void 0===D?void 0:D.GroupName,p=null===(E=r[d])||void 0===E?void 0:E.ShapeName,C=(0,e.dl)(null===(A=r[d])||void 0===A?void 0:A.Pcs,0));let M="",T="",x="",P="",I="",W="",G=0;var _,k,O,B,w,b,F;a[d]&&(M=null===(_=a[d])||void 0===_?void 0:_.ShapeName,T=(0,e.dl)(null===(k=a[d])||void 0===k?void 0:k.Pcs,0),x=(0,e.dl)(null===(O=a[d])||void 0===O?void 0:O.Wt,3),P=(0,e.dl)(null===(B=a[d])||void 0===B?void 0:B.Rate,2),I=(0,e.dl)((null===(w=a[d])||void 0===w?void 0:w.Amount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2)),u[d]&&(W=(0,e.dl)(null===(b=u[d])||void 0===b?void 0:b.Rate,2),G=+(0,e.OP)(null===(F=u[d])||void 0===F?void 0:F.Rate,2));let J=0===d?(0,e.dl)(((null===o||void 0===o?void 0:o.MetalAmount)-(null===o||void 0===o?void 0:o.LossAmt))/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"";0===J&&(J="");let Q=0===d?null===o||void 0===o?void 0:o.SrJobno:"",L=0===d?null===o||void 0===o?void 0:o.designno:"",V=0===d?null===i||void 0===i?void 0:i.CompanyFullName:"",j=0===d?null===o||void 0===o?void 0:o.Categoryname:"",z=(0===d&&(null===o||void 0===o||o.OtherAmtDetail),0===d?"".concat((0,e.dl)((null===o||void 0===o?void 0:o.OtherCharges)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2)):""),K=0===d?null===o||void 0===o?void 0:o.CertificateNo:"",U=0===d?(0,e.dl)((null===o||void 0===o?void 0:o.LossWt)*G/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"",Y=0===d?(0,e.dl)(null===o||void 0===o?void 0:o.LossWt,3):"",Z=0===d?(0,e.dl)((null===o||void 0===o?void 0:o.MetalAmount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"",q=0===d?(0,e.dl)((null===o||void 0===o?void 0:o.MakingAmount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"",H=0===d?(0,e.dl)((null===o||void 0===o?void 0:o.TotalAmount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"",X=0===d?1:"",$=0===d?"OPEN SETTING":"",oo=0===d?"GMS":"",lo=0===d?"IGI":"",io=0===d?(0,e.dl)((null===o||void 0===o?void 0:o.DiamondAmount)/(null===i||void 0===i?void 0:i.CurrencyExchRate),2):"",no=0===d?null===o||void 0===o?void 0:o.MetalPurity:"",eo=0===d?null===o||void 0===o?void 0:o.MetalColor:"",vo=0===d?(0,e.dl)(null===o||void 0===o?void 0:o.grosswt,3):"",to=0===d?(0,e.dl)(null===o||void 0===o?void 0:o.NetWt,3):"",ao=S(Q,"",L,V,"",X,"",j,$,"","","",n,t,h,"",p,C,s,m,c,io,M,T,x,P,I,"",vo,to,Y,no,eo,oo,W,J,U,Z,q,H,"","","","","","","","",z,lo,K);v.push(ao)}))})),(0,e.Nx)(v,null===o||void 0===o||null===(l=o.BillPrint_Json[0])||void 0===l?void 0:l.InvoiceNo)})(null===o||void 0===o?void 0:o.Data),m(!1))}else m(!1),h(null===o||void 0===o?void 0:o.Message)}catch(o){console.error(o)}})()}),[]),(0,v.jsx)(v.Fragment,{children:s?(0,v.jsx)(n.Z,{}):""===c?"":(0,v.jsx)("p",{className:"text-danger fs-2 fw-bold mt-5 text-center w-50 mx-auto",children:c})})}}}]);
//# sourceMappingURL=2455.7407bb86.chunk.js.map