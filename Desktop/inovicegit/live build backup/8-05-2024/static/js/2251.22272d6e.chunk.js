"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[2251],{55484:(i,l,o)=>{o.d(l,{h:()=>t});var n=o(44663),d=o(9886);const t=async(i,l,o,t)=>{try{const e=[],a={jobno:l,custid:o.custid,printname:o.printname,appuserid:o.appuserid,url:o.url,headers:t};let v=await(0,n.e)(a),r=(0,d.U)(null===v||void 0===v?void 0:v.rd,null===v||void 0===v?void 0:v.rd1);return null===r||void 0===r||r.map((l=>{var o,n;let d=0,t={clrPcs:0,clrWt:0},a={diaPcs:0,diaWt:0},v={miscWt:0},r=[],u=[];null===l||void 0===l||null===(o=l.rd1)||void 0===o||o.map(((i,l)=>{if("- - - "!==(null===i||void 0===i?void 0:i.ConcatedFullShapeQualityColorCode)&&d++,3===(null===i||void 0===i?void 0:i.MasterManagement_DiamondStoneTypeid)?(a.diaPcs=a.diaPcs+(null===i||void 0===i?void 0:i.ActualPcs),a.diaWt=a.diaWt+(null===i||void 0===i?void 0:i.ActualWeight)):4===(null===i||void 0===i?void 0:i.MasterManagement_DiamondStoneTypeid)?(t.clrPcs=t.clrPcs+(null===i||void 0===i?void 0:i.ActualPcs),t.clrWt=t.clrWt+(null===i||void 0===i?void 0:i.ActualWeight)):7===(null===i||void 0===i?void 0:i.MasterManagement_DiamondStoneTypeid)&&(v.miscWt=v.miscWt+(null===i||void 0===i?void 0:i.ActualWeight)),3===(null===i||void 0===i?void 0:i.MasterManagement_DiamondStoneTypeid))r.push(i);else{if(4!==(null===i||void 0===i?void 0:i.MasterManagement_DiamondStoneTypeid))return"";u.push(i)}}));let c=null===i||void 0===i?void 0:i.imagepath;c=atob(null===i||void 0===i?void 0:i.imagepath);let s=c+(null===l||void 0===l||null===(n=l.rd)||void 0===n?void 0:n.ThumbImagePath);e.push({data:l,additional:{length:d,clr:t,dia:a,img:s,misc:v}})})),e}catch(e){console.log(e)}}},44663:(i,l,o)=>{o.d(l,{e:()=>d});var n=o(31243);const d=async i=>{try{var l,o,d;let t={SerialJobno:"".concat(null===i||void 0===i?void 0:i.jobno),customerid:"".concat(null===i||void 0===i?void 0:i.custid),BagPrintName:"".concat(null===i||void 0===i?void 0:i.printname)},e=JSON.stringify(t),a=btoa(e),v={con:'{"id":"","mode":"'.concat(null===i||void 0===i?void 0:i.printname,'","appuserid":"').concat(null===i||void 0===i?void 0:i.appuserid,'"}'),p:"".concat(a),f:"".concat(null===i||void 0===i?void 0:i.appuserid," ").concat(null===i||void 0===i?void 0:i.printname)},r=atob(null===i||void 0===i?void 0:i.url);const u=await n.Z.post(r,v,{headers:null===i||void 0===i?void 0:i.headers});let c=null===JSON||void 0===JSON?void 0:JSON.parse(null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.d);const s=null===c||void 0===c||null===(o=c.rd)||void 0===o?void 0:o.sort(((i,l)=>{var o,n;return parseInt(null===i||void 0===i||null===(o=i.serialjobno)||void 0===o?void 0:o.split("/")[1],10)-parseInt(null===l||void 0===l||null===(n=l.serialjobno)||void 0===n?void 0:n.split("/")[1],10)})),p=null===c||void 0===c||null===(d=c.rd1)||void 0===d?void 0:d.sort(((i,l)=>{var o,n;return parseInt(null===i||void 0===i||null===(o=i.SerialJobno)||void 0===o?void 0:o.split("/")[1],10)-parseInt(null===l||void 0===l||null===(n=l.SerialJobno)||void 0===n?void 0:n.split("/")[1],10)}));return{rd:s,rd1:p}}catch(t){console.log(t)}}},22941:(i,l,o)=>{o.d(l,{E:()=>n});const n=i=>{var l;const o=null===i||void 0===i?void 0:i.split(","),n=[...new Set(o)];return null===n||void 0===n||null===(l=n.map((i=>"'".concat(i,"'"))))||void 0===l?void 0:l.join(",")}},9886:(i,l,o)=>{o.d(l,{U:()=>d});const n=i=>{let l=null===i||void 0===i?void 0:i.trim();if("01 Jan 1900"===l)return"";{let i=null===l||void 0===l?void 0:l.slice(7,11);if("00"===(null===i||void 0===i?void 0:i.slice(2,4))){var o;const i=new Date(l),n=null===(o=String(null===i||void 0===i?void 0:i.getDate()))||void 0===o?void 0:o.padStart(2,"0"),d=null===i||void 0===i?void 0:i.toLocaleString("default",{month:"short"}),t=String(null===i||void 0===i?void 0:i.getFullYear());return"".concat(n).concat(d).concat(t)}{var n,d;const i=new Date(l),o=null===(n=String(null===i||void 0===i?void 0:i.getDate()))||void 0===n?void 0:n.padStart(2,"0"),t=null===i||void 0===i?void 0:i.toLocaleString("default",{month:"short"}),e=null===(d=String(null===i||void 0===i?void 0:i.getFullYear()))||void 0===d?void 0:d.slice(-2);return"".concat(o).concat(t).concat(e)}}},d=(i,l)=>{let o=[];return null===i||void 0===i||i.forEach(((i,d)=>{var t,e;let a={};a.rd={...i},a.rd.orderDatef=n(null===a||void 0===a||null===(t=a.rd)||void 0===t?void 0:t.OrderDate),a.rd.promiseDatef=n(null===a||void 0===a||null===(e=a.rd)||void 0===e?void 0:e.promisedate);let v=null===l||void 0===l?void 0:l.filter((l=>(null===l||void 0===l?void 0:l.SerialJobno)===(null===i||void 0===i?void 0:i.serialjobno)));a.rd1=v,null===o||void 0===o||o.push(a)})),o}},16923:(i,l,o)=>{o.r(l),o.d(l,{default:()=>c});var n=o(53573),d=o(72791),t=o(80444),e=o(57689),a=o(22941),v=o(55484),r=o(1683),u=o(80184);const c=i=>{let{queries:l,headers:o}=i;const c=(0,e.TH)(),s=n.Z.parse(c.search),p=(0,a.E)(null===s||void 0===s?void 0:s.str_srjobno),[h,m]=(0,d.useState)([]);return(0,d.useEffect)((()=>{(async()=>{try{const i=await(0,v.h)(s,p,l,o);(null===i||void 0===i?void 0:i.length)>0?m(i):m([])}catch(i){console.error(i)}})()}),[]),(0,d.useEffect)((()=>{var i;0!==(null===(i=Object.keys(s))||void 0===i?void 0:i.length)&&atob(null===s||void 0===s?void 0:s.imagepath)}),[s]),(0,d.useEffect)((()=>{0!==(null===h||void 0===h?void 0:h.length)&&setTimeout((()=>{window.print()}),4e3)}),[h]),(0,u.jsx)("div",{children:0===(null===h||void 0===h?void 0:h.length)?(0,u.jsx)(t.Z,{}):(0,u.jsxs)(d.Fragment,{children:[(0,u.jsx)("div",{className:"print_btn",children:(0,u.jsx)("button",{className:"btn_white blue print_btn",onClick:i=>(0,r.Yj)(i),children:"Print"})}),(0,u.jsx)("div",{className:"allengageMatjbs",children:(null===h||void 0===h?void 0:h.length)>0&&(null===h||void 0===h?void 0:h.map(((i,l)=>(0,u.jsx)(d.Fragment,{children:(0,u.jsx)("div",{className:"containerEMJBS",children:"a"})},l))))})]})})}}}]);
//# sourceMappingURL=2251.22272d6e.chunk.js.map