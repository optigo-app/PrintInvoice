"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[1578],{12384:(e,o,n)=>{n.r(o),n.d(o,{default:()=>d});var t=n(72791),i=n(1683),a=n(64802),s=n(95587),l=n.n(s),c=n(80444),r=n(80184);const d=e=>{let{urls:o,token:n,invoiceNo:s,printName:d,evn:v,ApiVer:u}=e;const[g,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(""),[w,b]=(0,t.useState)(!0),p=async e=>{const o=new(l());await Promise.all(e.map((async(e,n)=>{try{const n=await fetch(null===e||void 0===e?void 0:e.src);if(!n.ok)throw new Error("Failed to fetch image: ".concat(null===e||void 0===e?void 0:e.src));const t=await n.blob();o.file("image_".concat(null===e||void 0===e?void 0:e.jobNo,".jpg"),t)}catch(t){console.error(t)}})));const n=await o.generateAsync({type:"blob"}),t=new Blob([n]);(0,a.saveAs)(t,"images.zip")};return(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,i.k_)(n,s,d,o,v,u);if("200"===(null===e||void 0===e?void 0:e.Status)){(0,i.nK)(null===e||void 0===e?void 0:e.Data)?(h(!1),m("Data Not Found")):((e=>{let o=[];null===e||void 0===e||e.BillPrint_Json1.forEach(((e,n)=>{""!==(null===e||void 0===e?void 0:e.DesignImage)&&o.push({src:null===e||void 0===e?void 0:e.DesignImage,jobNo:null===e||void 0===e?void 0:e.SrJobno})})),o.length>0?p(o):m("There is no Design Images")})(null===e||void 0===e?void 0:e.Data),h(!1))}else h(!1),m(null===e||void 0===e?void 0:e.Message)}catch(e){console.error(e)}})()}),[]),(0,r.jsx)(r.Fragment,{children:g?(0,r.jsx)(c.Z,{}):""===f?"":(0,r.jsx)("p",{className:"text-danger fs-2 fw-bold mt-5 text-center w-50 mx-auto",children:f})})}}}]);
//# sourceMappingURL=1578.3e01771d.chunk.js.map