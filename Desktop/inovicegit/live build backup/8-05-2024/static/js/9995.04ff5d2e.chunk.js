"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[9995],{89995:(o,t,i)=>{i.d(t,{g:()=>e});var l=i(1683),n=i(62906),d=i(763),a=i(99318);const e=(o,t,i)=>{var e,u;const v=new a.ToWords;let s=(0,d.cloneDeep)(o),m=(0,d.cloneDeep)(t),c=(0,d.cloneDeep)(i),r=[],_=[],g={diamonds:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0},colorstone:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0},metal:{Wt:0,Pcs:0,Rate:0,Amount:0,FineWt:0,IsPrimaryMetal:0,withOutPrimaryMetal:0,IsPrimaryMetal_Amount:0,withoutPrimaryMetal_Amount:0,SettingAmount:0},finding:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0},misc:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0,allpcs:0,allwt:0,allservwt:0,onlyHSCODE3_pcs:0,onlyHSCODE3_amt:0,withouthscode1_2_pcs:0,isHSCODE123_amt:0,onlyIsHSCODE0_Wt:0,onlyIsHSCODE0_Pcs:0,onlyIsHSCODE0_Amount:0},stone_misc:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0},diamond_colorstone_misc:{Wt:0,Pcs:0,Rate:0,Amount:0},diamond_colorstone_misc_2_new:{Wt:0,Pcs:0,Rate:0,Amount:0},total_labour:{labour_rate:0,labour_amount:0},total_primarymetal_netwt:0,total_other_charges:0,total_diamond_colorstone_misc_amount:0,total_other:0,grosswt:0,netwt:0,netwtWithLossWt:0,convertednetwt:0,MetalAmount:0,lossWt:0,total_Wastage:0,total_FineWt:0,total_amount:0,total_unitcost:0,total_discount_amount:0,total_purenetwt:0,total_Quantity:0,total_Making_Amount:0,total_discount:0,total_diamondHandling:0,total_csamount:0,total_Making_Amount_Other_Charges:0,total_fineWtByMetalWtCalculation:0,totalMiscAmount:0,total_otherChargesMiscHallStamp:0,total_TotalCsSetcost:0,total_TotalDiaSetcost:0,total_MakingAmount_Setting_Amount:0,total_otherCharge_Diamond_Handling:0};(null===m||void 0===m?void 0:m.length)>0&&(null===m||void 0===m||m.forEach((o=>{let t=[],i=[],n=[],d=[],a=[],e=[],u=[],v=[],s=[],m=[],h=[],A=[],W={diamonds:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0,FineWt:0,length:0},colorstone:{Wt:0,Pcs:0,Rate:0,Amount:0,SettingAmount:0,FineWt:0,length:0},metal:{Wt:0,Pcs:0,Rate:0,Amount:0,FineWt:0,length:0,IsPrimaryMetal:0,WithOutPrimaryMetal:0,IsPrimaryMetal_Amount:0,withoutPrimaryMetal_Amount:0,SettingAmount:0},finding:{Wt:0,Pcs:0,Rate:0,Amount:0,FineWt:0,length:0,SettingAmount:0},misc:{Wt:0,Pcs:0,Rate:0,Amount:0,FineWt:0,length:0,withouthscode1_2_wt:0,withouthscode1_2_pcs:0,withouthscode1_2_amount:0,onlyHSCODE3_pcs:0,onlyHSCODE3_amt:0,SettingAmount:0,allwt:0,allpcs:0,allservwt:0,isHSCODE123_amt:0,onlyIsHSCODE0_Wt:0,onlyIsHSCODE0_Pcs:0,onlyIsHSCODE0_Amount:0},stone_misc:{Wt:0,Pcs:0,Rate:0,Amount:0,FineWt:0},Making_Amount_Other_Charges:0,fineWtByMetalWtCalculation:0,otherChargesMiscHallStamp:0,makingAmount_settingAmount:0,jobwise_dia_wt_certificate:0},S=(0,l.oT)(null===o||void 0===o?void 0:o.OtherAmtDetail);g.total_labour.labour_rate+=null===o||void 0===o?void 0:o.MaKingCharge_Unit,g.total_labour.labour_amount+=null===o||void 0===o?void 0:o.MakingAmount,g.total_other+=null===o||void 0===o?void 0:o.OtherCharges,W.Making_Amount_Other_Charges+=(null===o||void 0===o?void 0:o.MakingAmount)+(null===o||void 0===o?void 0:o.OtherCharges),g.total_Making_Amount_Other_Charges+=(null===o||void 0===o?void 0:o.MakingAmount)+(null===o||void 0===o?void 0:o.OtherCharges),g.netwt+=null===o||void 0===o?void 0:o.NetWt,g.netwtWithLossWt=g.netwtWithLossWt+(+(null===o||void 0===o?void 0:o.NetWt)+ +(null===o||void 0===o?void 0:o.LossWt)),g.lossWt+=null===o||void 0===o?void 0:o.LossWt,g.grosswt+=null===o||void 0===o?void 0:o.grosswt,g.total_amount+=null===o||void 0===o?void 0:o.TotalAmount,g.total_unitcost+=null===o||void 0===o?void 0:o.UnitCost,g.total_discount_amount+=null===o||void 0===o?void 0:o.DiscountAmt,g.total_purenetwt+=null===o||void 0===o?void 0:o.PureNetWt,g.total_Quantity+=null===o||void 0===o?void 0:o.Quantity,g.total_Making_Amount+=null===o||void 0===o?void 0:o.MakingAmount,g.MetalAmount+=null===o||void 0===o?void 0:o.MetalAmount,g.total_discount+=null===o||void 0===o?void 0:o.Discount,g.total_diamondHandling+=null===o||void 0===o?void 0:o.TotalDiamondHandling,g.total_Wastage+=null===o||void 0===o?void 0:o.Wastage,g.convertednetwt+=null===o||void 0===o?void 0:o.convertednetwt,g.total_other_charges+=null===o||void 0===o?void 0:o.OtherCharges,g.total_csamount+=null===o||void 0===o?void 0:o.CsAmount,g.totalMiscAmount+=null===o||void 0===o?void 0:o.MiscAmount,g.total_TotalCsSetcost+=null===o||void 0===o?void 0:o.TotalCsSetcost,g.total_TotalDiaSetcost+=null===o||void 0===o?void 0:o.TotalDiaSetcost,g.total_otherCharge_Diamond_Handling+=(null===o||void 0===o?void 0:o.TotalDiamondHandling)+(null===o||void 0===o?void 0:o.OtherCharges)+(null===o||void 0===o?void 0:o.MiscAmount),(null===c||void 0===c?void 0:c.length)>0&&(null===c||void 0===c||c.forEach(((l,c)=>{if((null===o||void 0===o?void 0:o.SrJobno)===(null===l||void 0===l?void 0:l.StockBarcode)){var r;if(1===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(t.push(l),null===i||void 0===i||i.push(l),null===n||void 0===n||n.push(l),d.push(l),W.diamonds.Wt+=null===l||void 0===l?void 0:l.Wt,W.diamonds.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.diamonds.Rate+=null===l||void 0===l?void 0:l.Rate,W.diamonds.Amount+=null===l||void 0===l?void 0:l.Amount,W.diamonds.FineWt+=null===l||void 0===l?void 0:l.FineWt,W.diamonds.SettingAmount+=null===l||void 0===l?void 0:l.SettingAmount,W.diamonds.length+=1,g.diamonds.Wt+=null===l||void 0===l?void 0:l.Wt,g.diamonds.total_FineWt+=null===l||void 0===l?void 0:l.FineWt,g.diamonds.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.diamonds.Rate+=null===l||void 0===l?void 0:l.Rate,g.diamonds.Amount+=null===l||void 0===l?void 0:l.Amount,g.diamonds.SettingAmount+=+(null===l||void 0===l?void 0:l.SettingAmount)),2===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(t.push(l),a.push(l),null===i||void 0===i||i.push(l),null===n||void 0===n||n.push(l),W.colorstone.Wt+=null===l||void 0===l?void 0:l.Wt,W.colorstone.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.colorstone.Rate+=null===l||void 0===l?void 0:l.Rate,W.colorstone.Amount+=null===l||void 0===l?void 0:l.Amount,W.colorstone.FineWt+=null===l||void 0===l?void 0:l.FineWt,W.colorstone.SettingAmount+=null===l||void 0===l?void 0:l.SettingAmount,W.colorstone.length+=1,g.colorstone.Wt+=null===l||void 0===l?void 0:l.Wt,g.colorstone.total_FineWt+=null===l||void 0===l?void 0:l.FineWt,g.colorstone.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.colorstone.Rate+=null===l||void 0===l?void 0:l.Rate,g.colorstone.Amount+=null===l||void 0===l?void 0:l.Amount,g.colorstone.SettingAmount+=+(null===l||void 0===l?void 0:l.SettingAmount)),4===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(t.push(l),e.push(l),W.metal.Wt+=null===l||void 0===l?void 0:l.Wt,W.metal.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.metal.Rate+=null===l||void 0===l?void 0:l.Rate,W.metal.Amount+=null===l||void 0===l?void 0:l.Amount,W.metal.FineWt+=null===l||void 0===l?void 0:l.FineWt,W.metal.length+=1,g.metal.Wt+=null===l||void 0===l?void 0:l.Wt,g.metal.total_FineWt+=+(null===l||void 0===l?void 0:l.FineWt),g.metal.FineWt+=+(null===l||void 0===l?void 0:l.FineWt),g.metal.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.metal.Rate+=null===l||void 0===l?void 0:l.Rate,g.metal.Amount+=null===l||void 0===l?void 0:l.Amount,1===(null===l||void 0===l?void 0:l.IsPrimaryMetal)&&(W.metal.IsPrimaryMetal+=null===l||void 0===l?void 0:l.Wt,W.metal.IsPrimaryMetal_Amount+=null===l||void 0===l?void 0:l.Amount,g.metal.IsPrimaryMetal+=null===l||void 0===l?void 0:l.Wt,g.metal.IsPrimaryMetal_Amount+=null===l||void 0===l?void 0:l.Amount),1!==(null===l||void 0===l?void 0:l.IsPrimaryMetal)&&(W.metal.WithOutPrimaryMetal+=null===l||void 0===l?void 0:l.Wt,g.metal.withOutPrimaryMetal+=null===l||void 0===l?void 0:l.Wt,W.metal.withoutPrimaryMetal_Amount+=null===l||void 0===l?void 0:l.Amount,g.metal.withoutPrimaryMetal_Amount+=null===l||void 0===l?void 0:l.Amount)),3===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid))1!==(null===l||void 0===l?void 0:l.IsHSCOE)&&2!==(null===l||void 0===l?void 0:l.IsHSCOE)&&3!==(null===l||void 0===l?void 0:l.IsHSCOE)||(g.misc.isHSCODE123_amt+=null===l||void 0===l?void 0:l.Amount,W.misc.isHSCODE123_amt+=null===l||void 0===l?void 0:l.Amount),0===(null===l||void 0===l?void 0:l.IsHSCOE)&&(W.misc.onlyIsHSCODE0_Wt+=null===l||void 0===l?void 0:l.Wt,W.misc.onlyIsHSCODE0_Pcs+=null===l||void 0===l?void 0:l.Pcs,W.misc.onlyIsHSCODE0_Amount+=null===l||void 0===l?void 0:l.Amount,g.misc.onlyIsHSCODE0_Wt+=null===l||void 0===l?void 0:l.Wt,g.misc.onlyIsHSCODE0_Pcs+=null===l||void 0===l?void 0:l.Pcs,g.misc.onlyIsHSCODE0_Amount+=null===l||void 0===l?void 0:l.Amount),t.push(l),0===(null===l||void 0===l?void 0:l.isRateOnPcs)?h.push(l):A.push(l),s.push(l),g.misc.allpcs+=null===l||void 0===l?void 0:l.Pcs,g.misc.allwt+=null===l||void 0===l?void 0:l.Wt,g.misc.allservwt+=null===l||void 0===l?void 0:l.ServWt,W.misc.allservwt+=null===l||void 0===l?void 0:l.ServWt,3===(null===l||void 0===l?void 0:l.IsHSCOE)&&(W.misc.onlyHSCODE3_pcs+=null===l||void 0===l?void 0:l.Pcs,W.misc.onlyHSCODE3_amt+=null===l||void 0===l?void 0:l.Amount,g.misc.onlyHSCODE3_pcs+=null===l||void 0===l?void 0:l.Pcs,g.misc.onlyHSCODE3_amt+=null===l||void 0===l?void 0:l.Amount),null===n||void 0===n||n.push(l),"Hallmark"===(null===l||void 0===l?void 0:l.ShapeName)||"Stamping"===(null===l||void 0===l?void 0:l.ShapeName)||(0===(null===l||void 0===l?void 0:l.IsHSCOE)&&(W.misc.withouthscode1_2_wt+=null===l||void 0===l?void 0:l.Wt,W.misc.withouthscode1_2_pcs+=null===l||void 0===l?void 0:l.Pcs,W.misc.withouthscode1_2_amount+=null===l||void 0===l?void 0:l.Amount,g.misc.withouthscode1_2_pcs+=null===l||void 0===l?void 0:l.Pcs),null===i||void 0===i||i.push(l)),v.push(l),W.misc.Wt+=null===l||void 0===l?void 0:l.Wt,W.misc.allwt+=null===l||void 0===l?void 0:l.Wt,W.misc.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.misc.allpcs+=null===l||void 0===l?void 0:l.Pcs,W.misc.Rate+=null===l||void 0===l?void 0:l.Rate,W.misc.Amount+=null===l||void 0===l?void 0:l.Amount,W.misc.FineWt+=null===l||void 0===l?void 0:l.FineWt,W.misc.length+=1,g.misc.Wt+=null===l||void 0===l?void 0:l.Wt,g.misc.total_FineWt+=+(null===l||void 0===l?void 0:l.FineWt),g.misc.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.misc.Rate+=null===l||void 0===l?void 0:l.Rate,g.misc.Amount+=null===l||void 0===l?void 0:l.Amount,("Hallmark"===(null===l||void 0===l?void 0:l.ShapeName)||"Stamping"===(null===l||void 0===l?void 0:l.ShapeName)||null!==l&&void 0!==l&&null!==(r=l.ShapeName)&&void 0!==r&&r.includes("Certification"))&&(W.otherChargesMiscHallStamp+=null===l||void 0===l?void 0:l.Amount,g.total_otherChargesMiscHallStamp+=null===l||void 0===l?void 0:l.Amount);5===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(t.push(l),u.push(l),W.finding.Wt+=null===l||void 0===l?void 0:l.Wt,W.finding.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.finding.Rate+=null===l||void 0===l?void 0:l.Rate,W.finding.Amount+=null===l||void 0===l?void 0:l.Amount,W.finding.FineWt+=null===l||void 0===l?void 0:l.FineWt,W.finding.SettingAmount+=null===l||void 0===l?void 0:l.SettingAmount,W.finding.length+=1,g.finding.Wt+=null===l||void 0===l?void 0:l.Wt,g.finding.total_FineWt+=+(null===l||void 0===l?void 0:l.FineWt),g.finding.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.finding.Rate+=null===l||void 0===l?void 0:l.Rate,g.finding.Amount+=null===l||void 0===l?void 0:l.Amount,g.finding.SettingAmount+=null===l||void 0===l?void 0:l.SettingAmount),2!==(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&3!==(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)||(m.push(l),W.stone_misc.Wt+=null===l||void 0===l?void 0:l.Wt,W.stone_misc.Pcs+=null===l||void 0===l?void 0:l.Pcs,W.stone_misc.Rate+=null===l||void 0===l?void 0:l.Rate,W.stone_misc.Amount+=null===l||void 0===l?void 0:l.Amount,g.stone_misc.Wt+=null===l||void 0===l?void 0:l.Wt,g.stone_misc.total_FineWt+=+(null===l||void 0===l?void 0:l.FineWt),g.stone_misc.Pcs+=null===l||void 0===l?void 0:l.Pcs,g.stone_misc.Rate+=null===l||void 0===l?void 0:l.Rate,g.stone_misc.Amount+=null===l||void 0===l?void 0:l.Amount),W.makingAmount_settingAmount+=null===l||void 0===l?void 0:l.SettingAmount}}))),null===i||void 0===i||i.forEach((o=>{g.total_diamond_colorstone_misc_amount+=+(null===o||void 0===o?void 0:o.Amount),g.diamond_colorstone_misc.Amount+=+(null===o||void 0===o?void 0:o.Amount),g.diamond_colorstone_misc.Rate+=+(null===o||void 0===o?void 0:o.Rate),g.diamond_colorstone_misc.Wt+=+(null===o||void 0===o?void 0:o.Wt),g.diamond_colorstone_misc.Pcs+=+(null===o||void 0===o?void 0:o.Pcs)}));let p={...o};p.israteonpcsMISC0=h,p.israteonpcsMISC1=A,null===i||void 0===i||i.forEach((o=>{"Certification_NM award"===(null===o||void 0===o?void 0:o.ShapeName)&&_.push(o)}));let P=0;null===i||void 0===i||i.forEach((o=>{null===_||void 0===_||_.forEach((t=>{(null===t||void 0===t?void 0:t.StockBarcode)===(null===o||void 0===o?void 0:o.StockBarcode)&&1===(null===o||void 0===o?void 0:o.MasterManagement_DiamondStoneTypeid)&&(P+=null===o||void 0===o?void 0:o.Wt)}))})),null===d||void 0===d||d.sort(((o,t)=>(null===o||void 0===o?void 0:o.Rate)-(null===t||void 0===t?void 0:t.Rate))),null===a||void 0===a||a.sort(((o,t)=>(null===o||void 0===o?void 0:o.Rate)-(null===t||void 0===t?void 0:t.Rate))),W.makingAmount_settingAmount+=null===o||void 0===o?void 0:o.MakingAmount,p.diamond_colorstone_misc=i,p.all_m_d_c_m=t,p.certificateWtDia=P,p.diamonds=d,p.colorstone=a,p.stone_misc=m,p.misc=v,p.miscList_duplicate=s,p.metal=e,p.finding=u,p.totals=W,p.diamondWtMetalPurityWise=0,p.colorstoneWtMetalPurityWise=0,p.Making_Amount_Other_Charges=W.Making_Amount_Other_Charges,p.other_details=S,p.fineWtByMetalWtCalculation=W.fineWtByMetalWtCalculation,g.total_MakingAmount_Setting_Amount+=W.makingAmount_settingAmount,g.total_fineWtByMetalWtCalculation+=W.fineWtByMetalWtCalculation,p.jobwise_dia_wt_certificate=0,r.push(p)})));let h=g.total_amount,A=(0,l.xB)(s,h),W=[];if((null===s||void 0===s||null===(e=s.Brokerage)||void 0===e?void 0:e.length)>0){var S;let o=null===s||void 0===s||null===(S=s.Brokerage)||void 0===S?void 0:S.split("@-@"),t=[];o.forEach(((o,i)=>{let l={},n=null===o||void 0===o?void 0:o.split("#-#");l.label=n[0],l.value=+n[1],t.push(l)})),W=t}null===A||void 0===A||A.forEach((o=>{let t=+(null===o||void 0===o?void 0:o.amount)/(null===s||void 0===s?void 0:s.CurrencyExchRate);o.amount=String(t)})),(null===A||void 0===A?void 0:A.length)>0&&(null===A||void 0===A||A.forEach((o=>{var t;const[i,d]=null===o||void 0===o||null===(t=o.amount)||void 0===t?void 0:t.split("."),a=n.numberToWords.toWords(parseInt(i)),e=d?n.numberToWords.toWords(parseInt(d.padEnd(2,"0"))):"Zero",u=[a.charAt(0).toUpperCase()+a.slice(1),"point",e.charAt(0).toUpperCase()+e.slice(1)].filter(Boolean).join(" ");let v=(0,l.pl)(u);o.amountInWords="TOTAL ".concat(o.name," IN WORDS: ").concat(v)}))),null===A||void 0===A||A.forEach((o=>{h+=+(null===o||void 0===o?void 0:o.amount)})),null===A||void 0===A||A.forEach((o=>{var t;let i=null===v||void 0===v?void 0:v.convert(+(null===(t=+(null===o||void 0===o?void 0:o.amount))||void 0===t?void 0:t.toFixed(2))),n=(0,l.pl)(i);o.amountInWords="TOTAL ".concat(o.name," IN WORDS: ").concat(n)})),h=null===(u=+h)||void 0===u?void 0:u.toFixed(2),h=+h+ +(null===s||void 0===s?void 0:s.AddLess);let p={...s};p.BrokerageDetails=W;null===r||void 0===r||r.sort(((o,t)=>{var i;return isNaN(null===o||void 0===o?void 0:o.designno)&&isNaN(null===t||void 0===t?void 0:t.designno)?null===o||void 0===o||null===(i=o.designno)||void 0===i?void 0:i.localeCompare(null===t||void 0===t?void 0:t.designno):isNaN(null===o||void 0===o?void 0:o.designno)?1:isNaN(null===t||void 0===t?void 0:t.designno)?-1:(null===o||void 0===o?void 0:o.designno)-(null===t||void 0===t?void 0:t.designno)}));let P=0;const M=null===A||void 0===A?void 0:A.map((o=>{let t={...o};return t.amountInNumber=+(null===o||void 0===o?void 0:o.amount),P+=+(null===o||void 0===o?void 0:o.amount),t}));let C=[];null===r||void 0===r||r.forEach((o=>{var t,i,l;let n={...o},d=null===o||void 0===o||null===(t=o.metal)||void 0===t?void 0:t.reduce(((o,t)=>o+(null===t||void 0===t?void 0:t.Rate)),0);n.metal_rate=d;let a=null===o||void 0===o||null===(i=o.metal)||void 0===i?void 0:i.reduce(((o,t)=>1===(null===t||void 0===t?void 0:t.IsPrimaryMetal)?o+(null===t||void 0===t?void 0:t.Rate):o),0);n.primary_metal_rate=a;let e=0;e=null===n||void 0===n||null===(l=n.other_details)||void 0===l?void 0:l.reduce(((o,t)=>o+(null===t||void 0===t?void 0:t.amtval)),0),n.other_details_arr_total_amount=e,C.push(n)}));return{resultArray:C,mainTotal:g,finalAmount:+h,allTaxes:M,allTaxesTotal:P,header:p,json1:m,json2:c}}}}]);
//# sourceMappingURL=9995.04ff5d2e.chunk.js.map