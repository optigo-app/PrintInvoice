"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[2505],{41869:(e,l,i)=>{i.r(l),i.d(l,{default:()=>c});var n=i(72791),d=i(1683),o=i(80444);const s={invoicePrint4CloneContainer:"invoiceprint4clone_invoicePrint4CloneContainer__HZTWn",imageLogoInovicePrint4:"invoiceprint4clone_imageLogoInovicePrint4__GOzF5",bankDetail:"invoiceprint4clone_bankDetail__KkgQ0",invoicePrintRMargin:"invoiceprint4clone_invoicePrintRMargin__5Eukg",discription:"invoiceprint4clone_discription__9bzmu",min_height:"invoiceprint4clone_min_height__-KxXc",invoicePrint4Input:"invoiceprint4clone_invoicePrint4Input__bsagF",print_sec_sum4:"invoiceprint4clone_print_sec_sum4__+LBMa",pad_60_allPrint:"invoiceprint4clone_pad_60_allPrint__Jx8P-",discriptionInput:"invoiceprint4clone_discriptionInput__JBxtS"};var t=i(99318),a=i(80184);const c=e=>{let{token:l,invoiceNo:i,printName:c,urls:r,evn:v,ApiVer:m}=e;const[u,x]=(0,n.useState)(!0),[p,h]=(0,n.useState)(""),[N,j]=(0,n.useState)({}),[b,_]=(0,n.useState)([]),[f,g]=(0,n.useState)("Diamond studded Jewellery"),[y,A]=(0,n.useState)({labour:0,labourRate:0,other:0}),[T,M]=(0,n.useState)({totalAmount:0,grandTotal:0,qtyWeight:0}),[S,C]=(0,n.useState)([]),w=new t.ToWords,[P,D]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,d.k_)(l,i,c,r,v,m);if("200"===(null===e||void 0===e?void 0:e.Status)){(0,d.nK)(null===e||void 0===e?void 0:e.Data)?(x(!1),h("Data Not Found")):((e=>{var l,i;j(null===e||void 0===e?void 0:e.BillPrint_Json[0]);let n=[],o={...T},s=0,t=!1,a=0;null===e||void 0===e||e.BillPrint_Json2.forEach(((e,l)=>{if(4===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)){s+=null===e||void 0===e?void 0:e.Wt,o.qtyWeight+=null===e||void 0===e?void 0:e.Wt;let l=n.findIndex((l=>(null===l||void 0===l?void 0:l.ShapeName)===(null===e||void 0===e?void 0:e.ShapeName)&&(null===l||void 0===l?void 0:l.QualityName)===(null===e||void 0===e?void 0:e.QualityName)&&(null===l||void 0===l?void 0:l.Rate)===(null===e||void 0===e?void 0:e.Rate)&&(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)));if(-1===l){let l={...e};l.Rates=null===l||void 0===l?void 0:l.Rate,n.push(l)}else n[l].Wt+=null===e||void 0===e?void 0:e.Wt,n[l].Amount+=null===e||void 0===e?void 0:e.Amount,0!==n[l].Amount&&0!==n[l].Wt&&(n[l].Rates=n[l].Amount/n[l].Wt)}else if(2===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)||1===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)){t=!0,o.qtyWeight+=(null===e||void 0===e?void 0:e.Wt)/5;let l=((e,l)=>{let i=e.findIndex((e=>(null===e||void 0===e?void 0:e.QualityName)===(null===l||void 0===l?void 0:l.QualityName)&&(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)));return-1===i?(l.Rates=null===l||void 0===l?void 0:l.Rate,e.push(l)):0!==l.amount&&(e[i].Wt+=null===l||void 0===l?void 0:l.Wt,e[i].Amount+=null===l||void 0===l?void 0:l.Amount,0!==e[i].Amount&&0!==e[i].Wt?e[i].Rates=e[i].Amount/e[i].Wt:e[i].Rates=0),e})(n,e);n=[...l]}3===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)&&(a+=null===e||void 0===e?void 0:e.Amount)})),!t&&g("Gold Jewellery"),n.sort(((e,l)=>e.MasterManagement_DiamondStoneTypeName<l.MasterManagement_DiamondStoneTypeName?1:e.MasterManagement_DiamondStoneTypeName>l.MasterManagement_DiamondStoneTypeName?-1:0)),n.forEach(((l,i)=>{var n;4!==(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(l.Amount=l.Amount/(null===e||void 0===e||null===(n=e.BillPrint_Json[0])||void 0===n?void 0:n.CurrencyExchRate))})),_(n);const c=null===e||void 0===e?void 0:e.BillPrint_Json1.reduce(((e,l)=>({MakingAmount:e.MakingAmount+l.MakingAmount,OtherCharges:e.OtherCharges+l.OtherCharges,TotalAmount:e.TotalAmount+l.TotalAmount})),{MakingAmount:0,OtherCharges:0,TotalAmount:0}),r=null===e||void 0===e?void 0:e.BillPrint_Json1.reduce(((e,l)=>e+(null===l||void 0===l?void 0:l.TotalDiamondHandling)),0);let v={labour:(null===c||void 0===c?void 0:c.MakingAmount)+a+r,other:null===c||void 0===c?void 0:c.OtherCharges,labourRate:(null===c||void 0===c?void 0:c.MakingAmount)/(null===e||void 0===e||null===(l=e.BillPrint_Json[0])||void 0===l?void 0:l.CurrencyExchRate)/s},m=(0,d.xB)(null===e||void 0===e?void 0:e.BillPrint_Json[0],c.TotalAmount);const u=m.reduce(((e,l)=>e+ +l.amount),0);let x=c.TotalAmount+u+(null===e||void 0===e||null===(i=e.BillPrint_Json[0])||void 0===i?void 0:i.AddLess);o.totalAmount=c.TotalAmount,o.grandTotal=x,M(o),C(m),A(v)})(null===e||void 0===e?void 0:e.Data),x(!1))}else x(!1),h(null===e||void 0===e?void 0:e.Message)}catch(e){console.error(e)}})()}),[]);return u?(0,a.jsx)(o.Z,{}):""===p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"d-flex justify-content-end mb-4 align-items-center pt-4 container-fluid max_width_container print_sec_sum4 ".concat(null===s||void 0===s?void 0:s.print_sec_sum4),children:(0,a.jsx)("div",{className:"form-check ps-3 mt-2",children:(0,a.jsx)("input",{type:"button",className:"btn_white blue",value:"Print",onClick:e=>(0,d.Yj)(e)})})}),(0,a.jsxs)("div",{className:"container-fluid max_width_container ".concat(null===s||void 0===s?void 0:s.invoicePrint4CloneContainer," pad_60_allPrint ").concat(null===s||void 0===s?void 0:s.pad_60_allPrint," pt-2"),children:[(0,a.jsx)("p",{className:"fs-2 fw-bold text-center pb-4",children:null===N||void 0===N?void 0:N.PrintHeadLabel}),(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsxs)("div",{className:"col-9 px-2",children:[(0,a.jsxs)("p",{className:" pb-1",children:[(0,a.jsx)("span",{className:"fs-4 fw-bold",children:null===N||void 0===N?void 0:N.CompanyFullName})," "]}),(0,a.jsxs)("p",{className:"pb-1",children:[null===N||void 0===N?void 0:N.CompanyAddress,", ",null===N||void 0===N?void 0:N.CompanyAddress2," ",null===N||void 0===N?void 0:N.CompanyCity," ",null===N||void 0===N?void 0:N.CompanyPinCode," ",null===N||void 0===N?void 0:N.CompanyCountry]}),(0,a.jsxs)("p",{className:"pb-1",children:[" Phone +91 ",null===N||void 0===N?void 0:N.CompanyTellNo]}),(0,a.jsx)("p",{className:"pb-1",children:null===N||void 0===N?void 0:N.CompanyEmail}),(0,a.jsx)("p",{className:"pb-1",children:null===N||void 0===N?void 0:N.Company_VAT_GST_No}),0!==(null===N||void 0===N?void 0:N.CINNO.length)&&(0,a.jsxs)("p",{className:"pb-1",children:["CIN: ",null===N||void 0===N?void 0:N.CINNO]})]}),(0,a.jsx)("div",{className:"col-3 p-2 text-end",children:P&&""!==(null===N||void 0===N?void 0:N.PrintLogo)&&(0,a.jsx)("img",{src:null===N||void 0===N?void 0:N.PrintLogo,alt:"",className:"w-100 h-auto ms-auto mt-3 d-block object-fit-contain",style:{maxWidth:"116px"},onError:()=>{D(!1)},height:120,width:150})})]}),(0,a.jsxs)("div",{className:"border d-flex mt-2",children:[(0,a.jsxs)("div",{className:"col-6 p-2",children:[(0,a.jsx)("p",{className:"",children:null===N||void 0===N?void 0:N.lblBillTo}),(0,a.jsx)("p",{className:"pb-1",style:{fontSize:"19px"},children:null===N||void 0===N?void 0:N.CustName}),(0,a.jsx)("p",{className:"",children:null===N||void 0===N?void 0:N.customerAddress1}),(0,a.jsxs)("p",{className:"",children:[null===N||void 0===N?void 0:N.customercity," ",null===N||void 0===N?void 0:N.customerpincode]}),(0,a.jsxs)("p",{className:"",children:["Phone +91 ",null===N||void 0===N?void 0:N.customermobileno.replaceAll("-","")]}),(0,a.jsx)("p",{children:null===N||void 0===N?void 0:N.vat_cst_pan})]}),(0,a.jsx)("div",{className:"col-6 p-2",children:(0,a.jsxs)("div",{className:"col-12 ms-auto",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)("div",{className:"fw-bold",children:"INVOICE NO "}),(0,a.jsx)("div",{className:"ps-4",children:null===N||void 0===N?void 0:N.InvoiceNo})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)("div",{className:"fw-bold",children:"DATE "}),(0,a.jsx)("div",{className:"ps-4",children:null===N||void 0===N?void 0:N.EntryDate})]})]})})]}),(0,a.jsxs)("div",{className:"d-flex border mt-2",children:[(0,a.jsx)("div",{className:"col-4 p-2 border-end",children:(0,a.jsx)("p",{className:"fs-5 fw-bold text-center",children:"DESCRIPTION"})}),(0,a.jsxs)("div",{className:"col-8 d-flex",children:[(0,a.jsx)("div",{className:"col-3 d-flex align-items-center p-2 fw-bold",children:"DETAIL"}),(0,a.jsx)("div",{className:"col-3 d-flex align-items-center justify-content-center p-2 fw-bold text-center",children:"QTY/WEIGHT"}),(0,a.jsx)("div",{className:"col-3 d-flex align-items-center justify-content-center p-2 fw-bold text-center",children:"RATE"}),(0,a.jsx)("div",{className:"col-3 d-flex align-items-center justify-content-end p-2 fw-bold text-end",children:"AMOUNT"})]})]}),(0,a.jsxs)("div",{className:"d-flex border ".concat(null===s||void 0===s?void 0:s.min_height),children:[(0,a.jsxs)("div",{className:"col-4 p-2 border-end d-flex justify-content-center align-items-center flex-column",children:[(0,a.jsx)("input",{type:"text",value:f,onChange:e=>{var l;g(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)},className:"".concat(null===s||void 0===s?void 0:s.invoicePrint4Input," text-center ").concat(null===s||void 0===s?void 0:s.discriptionInput)}),(0,a.jsx)("p",{className:"pt-2 ".concat(null===s||void 0===s?void 0:s.discription),children:f}),(0,a.jsxs)("p",{className:"pt-2",children:["HSN CODE ",null===N||void 0===N?void 0:N.HSN_No]})]}),(0,a.jsx)("div",{className:"col-8",children:(0,a.jsxs)("div",{className:"d-gird h-100 pt-2",children:[null===b||void 0===b?void 0:b.map(((e,l)=>(0,a.jsxs)("div",{className:"d-flex pb-1",children:[(0,a.jsx)("div",{className:"col-3 px-2",children:4===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)?"".concat(null===e||void 0===e?void 0:e.ShapeName," ").concat(null===e||void 0===e?void 0:e.QualityName):null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeName}),(0,a.jsxs)("div",{className:"col-3 px-2 text-center",children:[(0,d.OP)(null===e||void 0===e?void 0:e.Wt,3),"  ",4===(null===e||void 0===e?void 0:e.MasterManagement_DiamondStoneTypeid)?"gm":"ctw"]}),(0,a.jsx)("div",{className:"col-3 px-2 text-center",children:0!==(null===e||void 0===e?void 0:e.Rates)&&(0,d.dl)(null===e||void 0===e?void 0:e.Rates,2)}),(0,a.jsx)("div",{className:"col-3 px-2 text-end",children:0!==(null===e||void 0===e?void 0:e.Amount)&&(0,d.dl)(null===e||void 0===e?void 0:e.Amount,2)})]},l))),(0,a.jsxs)("div",{className:"d-flex pb-1",children:[(0,a.jsx)("div",{className:"col-3 px-2",children:"LABOUR"}),(0,a.jsx)("div",{className:"col-3 px-2 text-center"}),(0,a.jsx)("div",{className:"col-3 px-2 text-center",children:0!==(null===y||void 0===y?void 0:y.labourRate)&&(0,d.dl)(null===y||void 0===y?void 0:y.labourRate,2)}),(0,a.jsx)("div",{className:"col-3 px-2 text-end",children:0!==(null===y||void 0===y?void 0:y.labour)&&(0,d.dl)(null===y||void 0===y?void 0:y.labour,2)})]}),(0,a.jsxs)("div",{className:"d-flex pb-1",children:[(0,a.jsx)("div",{className:"col-3 px-2",children:"OTHER"}),(0,a.jsx)("div",{className:"col-3 px-2 text-center"}),(0,a.jsx)("div",{className:"col-3 px-2 text-center"}),(0,a.jsx)("div",{className:"col-3 px-2 text-end",children:0!==(null===y||void 0===y?void 0:y.other)&&(0,d.dl)(null===y||void 0===y?void 0:y.other,2)})]})]})})]}),(0,a.jsxs)("div",{className:"d-flex border-start border-end border-bottom",children:[(0,a.jsx)("div",{className:"col-4 p-2 border-end",children:(0,a.jsx)("p",{className:"fs-5 text-center",children:" "})}),(0,a.jsx)("div",{className:"col-8",children:(0,a.jsxs)("div",{className:"d-flex pb-1",children:[(0,a.jsx)("div",{className:"col-3 p-2 fw-bold",children:"TOTAL"}),(0,a.jsxs)("div",{className:"col-3 p-2 text-center",children:[0!==(null===T||void 0===T?void 0:T.qtyWeight)&&(0,d.OP)(null===T||void 0===T?void 0:T.qtyWeight,3),"  gm"]}),(0,a.jsx)("div",{className:"col-3 p-2 text-center"}),(0,a.jsx)("div",{className:"col-3 p-2 text-end fw-bold",children:0!==(null===T||void 0===T?void 0:T.totalAmount)&&(0,d.dl)(null===T||void 0===T?void 0:T.totalAmount,2)})]})})]}),(0,a.jsxs)("div",{className:"d-flex border-start border-end border-bottom",children:[(0,a.jsxs)("div",{className:"col-8 p-2 border-end",children:[(0,a.jsx)("p",{className:"fw-bold",children:"Remark:"}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:null===N||void 0===N?void 0:N.Remark}})]}),(0,a.jsxs)("div",{className:"col-4",children:[S.length>0&&S.map(((e,l)=>(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsxs)("div",{className:"col-6 p-1 border-end text-end",children:[null===e||void 0===e?void 0:e.name," @ ",null===e||void 0===e?void 0:e.per]}),(0,a.jsx)("div",{className:"col-6 p-1 text-end",children:0!==+(null===e||void 0===e?void 0:e.amount)&&(null===e||void 0===e?void 0:e.amount)})]},l))),0!==(null===N||void 0===N?void 0:N.AddLess)&&(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)("div",{className:"col-6 p-1 border-end text-end",children:(null===N||void 0===N?void 0:N.AddLess)<0?"Less":"Add"}),(0,a.jsx)("div",{className:"col-6 p-1 text-end",children:null===N||void 0===N?void 0:N.AddLess})]}),(0,a.jsxs)("div",{className:"d-flex border-top",children:[(0,a.jsx)("div",{className:"col-6 p-1 border-end text-end fw-bold",children:"GRAND TOTAL"}),(0,a.jsx)("div",{className:"col-6 p-1 text-end fw-bold",children:(0,d.dl)(null===T||void 0===T?void 0:T.grandTotal,2)})]})]})]}),(0,a.jsxs)("div",{className:"border-start border-end border-bottom p-2",children:[(0,a.jsx)("p",{className:"pb-1",children:"Amount Chargeable In Words"}),(0,a.jsxs)("p",{className:"fw-bold",children:["Rs ",w.convert(+(0,d.OP)(null===T||void 0===T?void 0:T.grandTotal,2))]})]}),(0,a.jsx)("div",{className:"no_break",children:(0,a.jsxs)("div",{className:"d-flex border-start border-end border-bottom w-100",children:[(0,a.jsxs)("div",{className:"col-4 p-2 border-end",children:[(0,a.jsx)("p",{className:"fw-bold pb-1",children:"Bank Detail"}),(0,a.jsxs)("p",{className:"pb-1",children:["Account Name: ",null===N||void 0===N?void 0:N.accountname]}),(0,a.jsxs)("p",{className:"pb-1",children:["Bank Name: ",null===N||void 0===N?void 0:N.bankname]}),(0,a.jsxs)("p",{className:"pb-1",children:["Branch: ",null===N||void 0===N?void 0:N.bankaddress]}),(0,a.jsxs)("p",{className:"pb-1",children:["Account No.: ",null===N||void 0===N?void 0:N.accountnumber]}),(0,a.jsxs)("p",{children:["RTGS/NEFT IFSC: ",null===N||void 0===N?void 0:N.rtgs_neft_ifsc]})]}),(0,a.jsxs)("div",{className:"col-4 p-2 border-end d-flex justify-content-between flex-column",children:[(0,a.jsx)("p",{style:{fontSize:"12px"},children:"Signature"}),(0,a.jsx)("p",{className:"fw-bold",style:{fontSize:"12px"},children:null===N||void 0===N?void 0:N.CustName})]}),(0,a.jsxs)("div",{className:"col-4 p-2 d-flex justify-content-between flex-column",children:[(0,a.jsx)("p",{className:"fw-bold",style:{fontSize:"12px"},children:"For"}),(0,a.jsx)("p",{className:"fw-bold",style:{fontSize:"12px"},children:null===N||void 0===N?void 0:N.CompanyFullName})]})]})})]})]}):(0,a.jsx)("p",{className:"text-danger fs-2 fw-bold mt-5 text-center w-50 mx-auto",children:p})}}}]);
//# sourceMappingURL=2505.671b2e94.chunk.js.map