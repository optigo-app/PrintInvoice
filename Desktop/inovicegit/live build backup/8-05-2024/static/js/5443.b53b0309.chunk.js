"use strict";(self.webpackChunkinvoice=self.webpackChunkinvoice||[]).push([[5443,963],{55484:(l,i,d)=>{d.d(i,{h:()=>a});var o=d(44663),n=d(9886);const a=async(l,i,d,a)=>{try{const e=[],t={jobno:i,custid:d.custid,printname:d.printname,appuserid:d.appuserid,url:d.url,headers:a};let v=await(0,o.e)(t),r=(0,n.U)(null===v||void 0===v?void 0:v.rd,null===v||void 0===v?void 0:v.rd1);return null===r||void 0===r||r.map((i=>{var d,o;let n=0,a={clrPcs:0,clrWt:0},t={diaPcs:0,diaWt:0},v={miscWt:0},r=[],s=[];null===i||void 0===i||null===(d=i.rd1)||void 0===d||d.map(((l,i)=>{if("- - - "!==(null===l||void 0===l?void 0:l.ConcatedFullShapeQualityColorCode)&&n++,3===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)?(t.diaPcs=t.diaPcs+(null===l||void 0===l?void 0:l.ActualPcs),t.diaWt=t.diaWt+(null===l||void 0===l?void 0:l.ActualWeight)):4===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)?(a.clrPcs=a.clrPcs+(null===l||void 0===l?void 0:l.ActualPcs),a.clrWt=a.clrWt+(null===l||void 0===l?void 0:l.ActualWeight)):7===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid)&&(v.miscWt=v.miscWt+(null===l||void 0===l?void 0:l.ActualWeight)),3===(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid))r.push(l);else{if(4!==(null===l||void 0===l?void 0:l.MasterManagement_DiamondStoneTypeid))return"";s.push(l)}}));let u=null===l||void 0===l?void 0:l.imagepath;u=atob(null===l||void 0===l?void 0:l.imagepath);let c=u+(null===i||void 0===i||null===(o=i.rd)||void 0===o?void 0:o.ThumbImagePath);e.push({data:i,additional:{length:n,clr:a,dia:t,img:c,misc:v}})})),e}catch(e){console.log(e)}}},44663:(l,i,d)=>{d.d(i,{e:()=>n});var o=d(31243);const n=async l=>{try{var i,d,n;let a={SerialJobno:"".concat(null===l||void 0===l?void 0:l.jobno),customerid:"".concat(null===l||void 0===l?void 0:l.custid),BagPrintName:"".concat(null===l||void 0===l?void 0:l.printname)},e=JSON.stringify(a),t=btoa(e),v={con:'{"id":"","mode":"'.concat(null===l||void 0===l?void 0:l.printname,'","appuserid":"').concat(null===l||void 0===l?void 0:l.appuserid,'"}'),p:"".concat(t),f:"".concat(null===l||void 0===l?void 0:l.appuserid," ").concat(null===l||void 0===l?void 0:l.printname)},r=atob(null===l||void 0===l?void 0:l.url);const s=await o.Z.post(r,v,{headers:null===l||void 0===l?void 0:l.headers});let u=null===JSON||void 0===JSON?void 0:JSON.parse(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.d);const c=null===u||void 0===u||null===(d=u.rd)||void 0===d?void 0:d.sort(((l,i)=>{var d,o;return parseInt(null===l||void 0===l||null===(d=l.serialjobno)||void 0===d?void 0:d.split("/")[1],10)-parseInt(null===i||void 0===i||null===(o=i.serialjobno)||void 0===o?void 0:o.split("/")[1],10)})),h=null===u||void 0===u||null===(n=u.rd1)||void 0===n?void 0:n.sort(((l,i)=>{var d,o;return parseInt(null===l||void 0===l||null===(d=l.SerialJobno)||void 0===d?void 0:d.split("/")[1],10)-parseInt(null===i||void 0===i||null===(o=i.SerialJobno)||void 0===o?void 0:o.split("/")[1],10)}));return{rd:c,rd1:h}}catch(a){console.log(a)}}},22941:(l,i,d)=>{d.d(i,{E:()=>o});const o=l=>{var i;const d=null===l||void 0===l?void 0:l.split(","),o=[...new Set(d)];return null===o||void 0===o||null===(i=o.map((l=>"'".concat(l,"'"))))||void 0===i?void 0:i.join(",")}},99008:(l,i,d)=>{d.d(i,{M:()=>n});var o=d(46507);const n=l=>{l.target.src=o}},13752:(l,i,d)=>{d.d(i,{Y:()=>o});const o=l=>{l.preventDefault(),window.print()}},9886:(l,i,d)=>{d.d(i,{U:()=>n});const o=l=>{let i=null===l||void 0===l?void 0:l.trim();if("01 Jan 1900"===i)return"";{let l=null===i||void 0===i?void 0:i.slice(7,11);if("00"===(null===l||void 0===l?void 0:l.slice(2,4))){var d;const l=new Date(i),o=null===(d=String(null===l||void 0===l?void 0:l.getDate()))||void 0===d?void 0:d.padStart(2,"0"),n=null===l||void 0===l?void 0:l.toLocaleString("default",{month:"short"}),a=String(null===l||void 0===l?void 0:l.getFullYear());return"".concat(o).concat(n).concat(a)}{var o,n;const l=new Date(i),d=null===(o=String(null===l||void 0===l?void 0:l.getDate()))||void 0===o?void 0:o.padStart(2,"0"),a=null===l||void 0===l?void 0:l.toLocaleString("default",{month:"short"}),e=null===(n=String(null===l||void 0===l?void 0:l.getFullYear()))||void 0===n?void 0:n.slice(-2);return"".concat(d).concat(a).concat(e)}}},n=(l,i)=>{let d=[];return null===l||void 0===l||l.forEach(((l,n)=>{var a,e;let t={};t.rd={...l},t.rd.orderDatef=o(null===t||void 0===t||null===(a=t.rd)||void 0===a?void 0:a.OrderDate),t.rd.promiseDatef=o(null===t||void 0===t||null===(e=t.rd)||void 0===e?void 0:e.promisedate);let v=null===i||void 0===i?void 0:i.filter((i=>(null===i||void 0===i?void 0:i.SerialJobno)===(null===l||void 0===l?void 0:l.serialjobno)));t.rd1=v,null===d||void 0===d||d.push(t)})),d}},20963:(l,i,d)=>{d.r(i),d.d(i,{default:()=>t});var o=d(72791),n=d(80330),a=d.n(n),e=d(80184);const t=l=>{let{data:i}=l;const d=(0,o.useRef)(null),[n,t]=(0,o.useState)("");(0,o.useEffect)((()=>{d.current&&a()(d.current,i)}),[i]);const v=(0,o.useRef)(null);return(0,o.useEffect)((()=>{(()=>{const l=v.current;if(l){l.getContext("2d").clearRect(0,0,l.width,l.height),a()(l,i,{format:"CODE128",displayValue:!0});const d=l.toDataURL("image/png");t(d)}})()}),[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("canvas",{ref:v,className:"d_none_update"}),n&&(0,e.jsx)("img",{src:n,alt:"Barcode",className:"barcode_sticker_new",loading:"lazy"})]})}},89326:(l,i,d)=>{d.r(i),d.d(i,{default:()=>m});var o=d(72791),n=d(53573),a=d(80444),e=d(20963),t=d(57689),v=d(22941),r=d(99008),s=d(13752),u=d(1683),c=d(55484),h=d(80184);const m=function(l){let{queries:i,headers:m}=l;const p=(0,t.TH)(),g=n.Z.parse(p.search),j=(0,v.E)(null===g||void 0===g?void 0:g.str_srjobno),[_,b]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(async()=>{try{const l=await(0,c.h)(g,j,i,m);(null===l||void 0===l?void 0:l.length)>0?b(l):b([])}catch(l){console.error(l)}})()}),[]),(0,o.useEffect)((()=>{var l;0!==(null===(l=Object.keys(g))||void 0===l?void 0:l.length)&&atob(null===g||void 0===g?void 0:g.imagepath)}),[g]),(0,o.useEffect)((()=>{0!==(null===_||void 0===_?void 0:_.length)&&setTimeout((()=>{window.print()}),4e3)}),[_]),(0,h.jsx)(h.Fragment,{children:0===_.length?(0,h.jsx)(a.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"print_btn",children:(0,h.jsx)("button",{className:"btn_white blue print_btn",onClick:l=>(0,s.Y)(l),children:"Print"})}),(0,h.jsxs)("div",{className:"pad_60_allPrint",children:[Array.from({length:null===i||void 0===i?void 0:i.pageStart},((l,i)=>i>0&&(0,h.jsx)("div",{className:"container  ml_5 mb_10"},i))),(null===_||void 0===_?void 0:_.length)>0?(0,h.jsx)("div",{className:"container_job_bag_sticker_3",children:null===_||void 0===_?void 0:_.map(((l,i)=>{var o,n,a,t,v,s,c,m,p,g,j,_,b,f,x,N,S,y,D,W,w,M,P,C,k,E,J,T,F;return(0,h.jsx)("div",{className:"bag_space",children:(0,h.jsxs)("div",{className:"heading_job_3",children:[(0,h.jsxs)("div",{className:"img_aside_3",children:[(0,h.jsx)("div",{className:"img_job3",children:(0,h.jsx)("img",{src:""!==(null===l||void 0===l||null===(o=l.additional)||void 0===o?void 0:o.img)?null===l||void 0===l||null===(n=l.additional)||void 0===n?void 0:n.img:d(46507),alt:"",onError:l=>(0,r.M)(l),loading:"eager",id:"jobsticker3"})}),(0,h.jsx)("div",{className:"ins_3",children:(0,h.jsx)("h1",{className:"h1_3",style:{lineHeight:"28px"},children:null===(a=" "+((null===l||void 0===l||null===(t=l.data)||void 0===t||null===(v=t.rd)||void 0===v||null===(s=v.ProductInstruction)||void 0===s?void 0:s.length)>0?(0,u.WW)(null===l||void 0===l||null===(c=l.data)||void 0===c||null===(m=c.rd)||void 0===m?void 0:m.ProductInstruction):(0,u.WW)(null===l||void 0===l||null===(p=l.data)||void 0===p||null===(g=p.rd)||void 0===g?void 0:g.QuoteRemark)))||void 0===a?void 0:a.slice(0,62)})})]}),(0,h.jsxs)("div",{className:"databarcode_3",style:{position:"relative"},children:[(0,h.jsxs)("div",{className:"data_center_3",children:[(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(j=l.data)||void 0===j||null===(_=j.rd)||void 0===_?void 0:_.serialjobno]}),(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(b=l.data)||void 0===b||null===(f=b.rd)||void 0===f?void 0:f.Designcode]}),(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(x=l.data)||void 0===x||null===(N=x.rd)||void 0===N?void 0:N.MetalType]}),(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(S=l.data)||void 0===S||null===(y=S.rd)||void 0===y?void 0:y.MetalColorCo]}),(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(D=l.data)||void 0===D||null===(W=D.rd)||void 0===W?void 0:W.category]}),(0,h.jsxs)("h1",{className:"h1_3",children:[" ",null===l||void 0===l||null===(w=l.data)||void 0===w||null===(M=w.rd)||void 0===M?void 0:M.CustomerCode]})]}),(0,h.jsx)("div",{style:{position:"absolute",right:"-13px"},children:0!==(null===l||void 0===l||null===(P=l.data)||void 0===P||null===(C=P.rd)||void 0===C?void 0:C.length)&&void 0!==(null===l||void 0===l||null===(k=l.data)||void 0===k?void 0:k.rd)&&(0,h.jsx)(h.Fragment,{children:void 0!==(null===l||void 0===l||null===(E=l.data)||void 0===E||null===(J=E.rd)||void 0===J?void 0:J.serialjobno)&&(0,h.jsx)(e.default,{data:null===l||void 0===l||null===(T=l.data)||void 0===T||null===(F=T.rd)||void 0===F?void 0:F.serialjobno})})})]})]})},i)}))}):"Data Not Found!"]})]})})}}}]);
//# sourceMappingURL=5443.b53b0309.chunk.js.map